webpackJsonp([3],{"/5lZ":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s={data:function(){return{letters:"ABCDEFGHJKLMNPQRSTWXYZ",selectedPro:null,selectedCity:null,proShow:!1,cityShow:!1,isfocus:!1,searchCity:null,reAhot:{hot:[],recent:[]},searchCityList:{citys:[]},cityData:{citys:[]},cityByLetter:{},province:["山东","甘肃","江苏","北京","云南","海南","浙江","上海","天津","陕西","新疆","贵州","安徽","澳门","湖南","河北","香港","辽宁","四川","宁夏","吉林","福建","湖北","广东","重庆","山西","江西","黑龙江","青海","河南","台湾","内蒙古","西藏","广西"]}},mounted:function(){var t=this;document.addEventListener("click",function(){(t.proShow||t.cityShow)&&(t.proShow=!1,t.cityShow=!1)},!1),this.$axios.get("http://open.duyiedu.com/api/meituan/city/cityByLetter.json").then(function(i){t.cityByLetter=i}),this.$axios.get("/api/meituan/city/hotAre.json").then(function(i){t.reAhot=i})},methods:{proClick:function(){this.proShow||(this.proShow=!0,this.cityShow&&(this.cityShow=!1))},selectPro:function(t){var i=this;this.selectedPro!=t&&(this.selectedPro=t,this.$axios.get("/api/meituan/city/cityList.json").then(function(t){i.cityData=t}))},cityClick:function(){1!=this.cityShow&&this.selectedPro&&(this.proShow=!1,this.cityShow=!0)},selectCity:function(t){this.selectedCity!=t&&(this.selectedCity=t,this.$store.commit("changeCity",t),this.$router.push({name:"index"}))},handleInput:function(){var t=this;this.$axios.get("/api/meituan/city/citySearch.json").then(function(i){t.searchCityList=i})},handleBlur:function(){var t=this;setTimeout(function(){t.isfocus=!1},250)},changeCity:function(t){console.log("changeCity"),this.$store.commit("changeCity",t),this.$router.push({name:"index"})}}},c={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"changeCity"},[e("div",{staticClass:"selectArea clearfix"},[e("div",{staticClass:"byprovince"},[e("span",[t._v("按省份选择:")]),t._v(" "),e("div",{staticClass:"province"},[e("div",{staticClass:"select",on:{click:function(i){return i.stopPropagation(),t.proClick(i)}}},[e("span",[t._v(t._s(t.selectedPro||"省份"))]),t._v(" "),e("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.proShow,expression:"proShow"}],staticClass:"proDt"},[e("p",{staticClass:"title"},[t._v("省份")]),t._v(" "),e("div",{staticClass:"wrap"},t._l(Math.ceil(t.province.length/12),function(i){return e("div",{key:i,staticClass:"per"},t._l(t.province.slice(12*(i-1),12*i),function(i){return e("span",{key:i,class:{active:t.selectedPro==i},on:{click:function(e){return e.stopPropagation(),t.selectPro(i)}}},[t._v("\n                "+t._s(i)+"\n              ")])}),0)}),0)])]),t._v(" "),e("div",{staticClass:"city"},[e("div",{staticClass:"select",style:{cursor:t.selectedPro?"pointer":"no-drop"},on:{click:function(i){return i.stopPropagation(),t.cityClick(i)}}},[e("span",[t._v(t._s(t.selectedCity||"城市"))]),t._v(" "),e("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.cityShow,expression:"cityShow"}],staticClass:"cityDt"},[e("p",{staticClass:"title"},[t._v("城市")]),t._v(" "),e("div",{staticClass:"wrap"},t._l(Math.ceil(t.cityData.citys.length/12),function(i){return e("div",{key:i,staticClass:"per"},t._l(t.cityData.citys.slice(12*(i-1),12*i),function(i){return e("span",{key:i,class:{active:t.selectedPro==i},on:{click:function(e){return e.stopPropagation(),t.selectCity(i)}}},[t._v("\n                "+t._s(i)+"\n              ")])}),0)}),0)])])]),t._v(" "),e("div",{staticClass:"search"},[e("span",[t._v("直接搜索: ")]),t._v(" "),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCity,expression:"searchCity"}],attrs:{type:"text",placeholder:"请输入城市中文或拼音"},domProps:{value:t.searchCity},on:{focus:function(i){t.isfocus=!0},blur:t.handleBlur,input:[function(i){i.target.composing||(t.searchCity=i.target.value)},t.handleInput]}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isfocus,expression:"isfocus"}],staticClass:"searchList"},[e("ul",[0==t.searchCityList.citys.length?e("li",[t._v("未找到匹配的城市")]):t._e(),t._v(" "),t._l(t.searchCityList.citys,function(i){return e("li",{key:i,on:{click:function(e){return t.changeCity(i)}}},[t._v("\n              "+t._s(i)+"\n            ")])})],2)])])])]),t._v(" "),e("div",{staticClass:"pad hot"},[e("span",[t._v("热门城市: ")]),t._v(" "),e("p",t._l(t.reAhot.hot,function(i,s){return e("span",{key:s,on:{click:function(e){return t.changeCity(i)}}},[t._v(t._s(i))])}),0)]),t._v(" "),e("div",{staticClass:"pad recent"},[e("span",[t._v("最近访问: ")]),t._v(" "),e("p",t._l(t.reAhot.recent,function(i,s){return e("span",{key:s,on:{click:function(e){return t.changeCity(i)}}},[t._v(t._s(i))])}),0)]),t._v(" "),e("div",{staticClass:"pad letters"},[e("span",[t._v("按拼音首字母选择： ")]),t._v(" "),e("p",t._l(t.letters,function(i){return e("span",{key:i},[e("a",{attrs:{href:"#city-"+i}},[t._v(t._s(i))])])}),0)]),t._v(" "),t._l(t.cityByLetter,function(i,s){return e("div",{key:s,staticClass:"letter clearfix",attrs:{id:"city-"+s}},[e("span",{staticClass:"log"},[t._v(t._s(s))]),t._v(" "),e("div",{staticClass:"citys"},t._l(i,function(i,s){return e("span",{key:s,on:{click:function(e){return t.changeCity(i)}}},[t._v(t._s(i))])}),0)])})],2)},staticRenderFns:[]};var n=e("VU/8")(s,c,!1,function(t){e("wrkL")},"data-v-05243e09",null);i.default=n.exports},wrkL:function(t,i){}});
//# sourceMappingURL=3.8c679fa42b5ee0f27951.js.map